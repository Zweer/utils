# @zweer/coverage-badge-readme

[![npm version](https://img.shields.io/npm/v/@zweer/coverage-badge-readme.svg?style=flat)](https://www.npmjs.com/package/@zweer/coverage-badge-readme)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

A simple CLI tool to automatically read your test coverage summary and inject an up-to-date [Shields.io](https://shields.io/) badge into your `README.md`.

Never manually update your coverage percentage again!

## ü§î Why?

Keeping the coverage badge in your README synchronized with your latest test run can be a manual and error-prone task. This tool automates the process by reading the `coverage-summary.json` file generated by popular testing frameworks and updating a placeholder in your README.

## ‚öôÔ∏è Prerequisites

Your testing framework must be configured to generate a coverage summary report in `json-summary` format.

For **Jest**, **Vitest**, or **Istanbul/nyc**, add `json-summary` to your `coverageReporters` configuration.

Example for `jest.config.js` or `vite.config.ts`:
```javascript
// jest.config.js
module.exports = {
  // ... other configs
  coverageReporters: ['json-summary', 'text', 'lcov'],
};
```

This will generate the required `coverage/coverage-summary.json` file when you run your tests with the `--coverage` flag.

## üì¶ Installation

You can install the package globally:
```bash
npm install -g @zweer/coverage-badge-readme
```
Or use it directly with `npx` without a global installation (recommended for CI environments):
```bash
npx @zweer/coverage-badge-readme --help
```

## üöÄ Usage

1.  Add your template badge in the README.md file, for example:

    ```markdown
    # @zweer/utils

    ![Coverage Badge](https://img.shields.io/badge/coverage-100%25-brightgreen?style=flat)
    ```

2.  Run the CLI command after your tests have completed:

    ```bash
    npx coverage-badge-readme
    ```

Your `README.md` will be automatically updated:
```markdown
![Coverage Badge](https://img.shields.io/badge/coverage-88%25-brightgreen)
```

## üõ†Ô∏è Options

| Option | Alias | Description | Default | Required |
| :--- | :--- | :--- |:--- |:--- |
| `--readme-path` | | Path to the README.md file. | `./README.md` | No |
| `--coverage-path` | | Path to the `coverage-summary.json` file. | `./coverage/coverage-summary.json` | No |
| `--help` | `-h` | Show the help menu. | | |

## üìÑ License

Licensed under the MIT License.
